<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>选择器 | 羊圈</title>
    <meta name="description" content="神羊的羊圈">
    <meta name="theme-color" content="#00adb5">
  <link rel="icon" href="/images/favicon.png">
  <meta itemprop="image" content="/js_tricks/images/favicon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#00adb5">
    
    <link rel="preload" href="/assets/css/0.styles.18cbf62c.css" as="style"><link rel="preload" href="/assets/js/app.c1618cf4.js" as="script"><link rel="preload" href="/assets/js/3.ed1bf183.js" as="script"><link rel="preload" href="/assets/js/30.877d7c50.js" as="script"><link rel="prefetch" href="/assets/js/1.b3385aaa.js"><link rel="prefetch" href="/assets/js/10.b526617f.js"><link rel="prefetch" href="/assets/js/100.9c76dc44.js"><link rel="prefetch" href="/assets/js/101.6b17334c.js"><link rel="prefetch" href="/assets/js/102.6072298e.js"><link rel="prefetch" href="/assets/js/103.8bf22d9c.js"><link rel="prefetch" href="/assets/js/104.da37280c.js"><link rel="prefetch" href="/assets/js/105.f6adc7cb.js"><link rel="prefetch" href="/assets/js/106.c479af52.js"><link rel="prefetch" href="/assets/js/107.7864a896.js"><link rel="prefetch" href="/assets/js/108.59251a56.js"><link rel="prefetch" href="/assets/js/109.401930b9.js"><link rel="prefetch" href="/assets/js/11.8c8a17aa.js"><link rel="prefetch" href="/assets/js/110.7f385c95.js"><link rel="prefetch" href="/assets/js/111.874ae40f.js"><link rel="prefetch" href="/assets/js/112.b88da53c.js"><link rel="prefetch" href="/assets/js/12.9a241d83.js"><link rel="prefetch" href="/assets/js/13.50f10eff.js"><link rel="prefetch" href="/assets/js/14.e6ebc69a.js"><link rel="prefetch" href="/assets/js/15.1145f768.js"><link rel="prefetch" href="/assets/js/16.8f53c91c.js"><link rel="prefetch" href="/assets/js/17.f5d33107.js"><link rel="prefetch" href="/assets/js/18.0fa172d4.js"><link rel="prefetch" href="/assets/js/19.b3ec819d.js"><link rel="prefetch" href="/assets/js/20.39dd808d.js"><link rel="prefetch" href="/assets/js/21.982519d1.js"><link rel="prefetch" href="/assets/js/22.e43852de.js"><link rel="prefetch" href="/assets/js/23.d20b98a1.js"><link rel="prefetch" href="/assets/js/24.8df2408b.js"><link rel="prefetch" href="/assets/js/25.6b7a2412.js"><link rel="prefetch" href="/assets/js/26.e0d54718.js"><link rel="prefetch" href="/assets/js/27.fa540f01.js"><link rel="prefetch" href="/assets/js/28.12872a08.js"><link rel="prefetch" href="/assets/js/29.a5357381.js"><link rel="prefetch" href="/assets/js/31.b4278efa.js"><link rel="prefetch" href="/assets/js/32.ebc68bbd.js"><link rel="prefetch" href="/assets/js/33.f08d05c9.js"><link rel="prefetch" href="/assets/js/34.a7d62a8e.js"><link rel="prefetch" href="/assets/js/35.f5d32a01.js"><link rel="prefetch" href="/assets/js/36.1ba48a2d.js"><link rel="prefetch" href="/assets/js/37.3e7062af.js"><link rel="prefetch" href="/assets/js/38.46a40d24.js"><link rel="prefetch" href="/assets/js/39.f11b85d4.js"><link rel="prefetch" href="/assets/js/4.1b01fc51.js"><link rel="prefetch" href="/assets/js/40.28ecd869.js"><link rel="prefetch" href="/assets/js/41.5e8bc3d9.js"><link rel="prefetch" href="/assets/js/42.ff6b4e3c.js"><link rel="prefetch" href="/assets/js/43.9a77ccd5.js"><link rel="prefetch" href="/assets/js/44.b54ec253.js"><link rel="prefetch" href="/assets/js/45.cbee26e2.js"><link rel="prefetch" href="/assets/js/46.5e19d09a.js"><link rel="prefetch" href="/assets/js/47.0acc679f.js"><link rel="prefetch" href="/assets/js/48.bfdd685b.js"><link rel="prefetch" href="/assets/js/49.e42f572c.js"><link rel="prefetch" href="/assets/js/5.d587daef.js"><link rel="prefetch" href="/assets/js/50.85bfbfcd.js"><link rel="prefetch" href="/assets/js/51.576a7373.js"><link rel="prefetch" href="/assets/js/52.f26ffee5.js"><link rel="prefetch" href="/assets/js/53.163cf701.js"><link rel="prefetch" href="/assets/js/54.c1132ecc.js"><link rel="prefetch" href="/assets/js/55.e089f0d4.js"><link rel="prefetch" href="/assets/js/56.be59a8ef.js"><link rel="prefetch" href="/assets/js/57.a015f201.js"><link rel="prefetch" href="/assets/js/58.0235e47f.js"><link rel="prefetch" href="/assets/js/59.0b6f5acf.js"><link rel="prefetch" href="/assets/js/6.69e07e2c.js"><link rel="prefetch" href="/assets/js/60.641c2f95.js"><link rel="prefetch" href="/assets/js/61.17b03fa8.js"><link rel="prefetch" href="/assets/js/62.96134956.js"><link rel="prefetch" href="/assets/js/63.f845d120.js"><link rel="prefetch" href="/assets/js/64.e9ed93d9.js"><link rel="prefetch" href="/assets/js/65.2bd53147.js"><link rel="prefetch" href="/assets/js/66.1f03bf79.js"><link rel="prefetch" href="/assets/js/67.47eb30d1.js"><link rel="prefetch" href="/assets/js/68.cc339c5a.js"><link rel="prefetch" href="/assets/js/69.2ff09789.js"><link rel="prefetch" href="/assets/js/7.3199f861.js"><link rel="prefetch" href="/assets/js/70.9d03d949.js"><link rel="prefetch" href="/assets/js/71.7eab78cd.js"><link rel="prefetch" href="/assets/js/72.20dd5f6e.js"><link rel="prefetch" href="/assets/js/73.6c6af6b0.js"><link rel="prefetch" href="/assets/js/74.8eed043b.js"><link rel="prefetch" href="/assets/js/75.3b5158cd.js"><link rel="prefetch" href="/assets/js/76.0eacd2d9.js"><link rel="prefetch" href="/assets/js/77.c3ba3709.js"><link rel="prefetch" href="/assets/js/78.843656e9.js"><link rel="prefetch" href="/assets/js/79.99bae0b9.js"><link rel="prefetch" href="/assets/js/8.8d4fcdde.js"><link rel="prefetch" href="/assets/js/80.4d3c67b0.js"><link rel="prefetch" href="/assets/js/81.85eaf0e7.js"><link rel="prefetch" href="/assets/js/82.27feb7aa.js"><link rel="prefetch" href="/assets/js/83.7686c618.js"><link rel="prefetch" href="/assets/js/84.941fa5d5.js"><link rel="prefetch" href="/assets/js/85.46a4182a.js"><link rel="prefetch" href="/assets/js/86.1d2fa06f.js"><link rel="prefetch" href="/assets/js/87.1fa71add.js"><link rel="prefetch" href="/assets/js/88.a9a069f0.js"><link rel="prefetch" href="/assets/js/89.93d73858.js"><link rel="prefetch" href="/assets/js/9.99351bd6.js"><link rel="prefetch" href="/assets/js/90.029a12be.js"><link rel="prefetch" href="/assets/js/91.669f4475.js"><link rel="prefetch" href="/assets/js/92.686c84ef.js"><link rel="prefetch" href="/assets/js/93.47bd8585.js"><link rel="prefetch" href="/assets/js/94.0b908759.js"><link rel="prefetch" href="/assets/js/95.f4d85cb9.js"><link rel="prefetch" href="/assets/js/96.e57f6246.js"><link rel="prefetch" href="/assets/js/97.b5660771.js"><link rel="prefetch" href="/assets/js/98.91198c9e.js"><link rel="prefetch" href="/assets/js/99.9a6c1efc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18cbf62c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">羊圈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">blog</a></div><div class="nav-item"><a href="https://qishaoxuan.github.io/animate_resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  about me
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">blog</a></div><div class="nav-item"><a href="https://qishaoxuan.github.io/animate_resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  about me
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/1.基础知识.html" class="sidebar-link">基础知识</a></li><li><a href="/js/2.数据类型.html" class="sidebar-link">数据类型</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="选择器">选择器</h1> <ul><li><blockquote><p>：选择容器下的直接子代</p></blockquote></li> <li>+：选择紧临的下一个兄弟元素</li> <li>~：选择随后的所有兄弟元素</li></ul> <h2 id="属性选择器">属性选择器</h2> <ul><li>[attr]：选择包含 attr 属性的所有元素，不论 attr 的值为何。</li> <li>[attr=val]：仅选择 attr 属性被赋值为 val 的所有元素。</li> <li>[attribute^=val]：选择所有 attr 属性值为val开头的元素</li> <li>[attribute*=val]：选择所有 attr 属性值包含val的元素</li> <li>[attribute$=val]：选择所有 attr 属性值为val结尾的元素</li> <li>[attr~=val]：选择所有 attr 以空格分割的属性值中包含val的元素</li></ul> <h3 id="子串值（substring-value）属性选择器">子串值（Substring value）属性选择器</h3> <p>下面几个属于 CSS3 新增语法，也被称为“伪正则选择器”，因为它们提供类似 regular expression 的灵活匹配方式。</p> <ul><li>[attr|=val] : 选择attr属性的值是 <code>val</code> 或值以 <code>val-</code> 开头的元素（注意，这里的 “-” 不是一个错误，这是用来处理语言编码的）。</li> <li>[attr^=val] : 选择attr属性的值以 <code>val</code> 开头（包括 val）的元素。</li> <li>[attr$=val] : 选择attr属性的值以 <code>val</code> 结尾（包括 val）的元素。</li> <li>[attr*=val] : 选择attr属性的值中包含子字符串 val 的元素（一个子字符串就是一个字符串的一部分而已，例如，&quot;cat&quot; 是 字符串 &quot;caterpillar&quot; 的子字符串</li></ul> <h3 id="基本用法">基本用法</h3> <p>通过元素的属性值去选择 DOM 元素。像这样，将选中所有带 <code>href</code> 属性的DOM 元素：</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">[href]</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://link.juejin.im?target=https%3A%2F%2Fcodepen.io%2FChokcoco%2Fpen%2FqGGxYa" target="_blank" rel="noopener noreferrer">CodePen Demo -- 属性选择器基本用法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="层叠选择">层叠选择</h3> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">div [href]</span><span class="token punctuation">{</span>
...
<span class="token punctuation">}</span>
</code></pre></div><h3 id="多条件复合选择">多条件复合选择</h3> <p>选择一个 img 标签，它含有 title 属性，并且包含类名为 logo 的元素。</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">img[title][class~=logo]</span><span class="token punctuation">{</span>
...
<span class="token punctuation">}</span>
</code></pre></div><h3 id="伪正则写法">伪正则写法</h3> <ul><li><code>i</code> 参数</li></ul> <p>忽略类名的大小写限制，选择包含 class 类名包含子字符串为 text，Text，TeXt... 等情况的 p 元素。 这里的 i 的含义就是正则里面参数 i 的含义，ignore，忽略大小写的意思。</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">p[class*=&quot;text&quot; i]</span> <span class="token punctuation">{</span>
...

</code></pre></div><p>所以上面的选择器可以选中类似这样的目标元素：</p> <div class="language-CSS extra-class"><pre class="language-css"><code>&lt;p class=<span class="token string">&quot;text&quot;</span>&gt;&lt;/p&gt;
&lt;p class=<span class="token string">&quot;nameText&quot;</span>&gt;&lt;/p&gt;
&lt;p class=<span class="token string">&quot;desc textarea&quot;</span>&gt;&lt;/p&gt;
</code></pre></div><ul><li><code>g</code> 参数</li></ul> <p>与正则表达式不一样，参数 <code>g</code> 在这里表示大小写敏感（case-sensitively）。然而，<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors" target="_blank" rel="noopener noreferrer">这个属性当前仍未纳入标准<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，支持的浏览器不多。</p> <h3 id="配合-not-伪类">配合 <code>:not()</code> 伪类</h3> <p>还有一种比较常用的场景就是搭配<code>:not()</code> 伪类，完成一些判断检测性的功能。譬如下面这个选择器，就可以选取所有没有 <code>[href]</code> 属性的 <code>a</code> 标签，添加一个红色边框。</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">a:not([href])</span><span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当然，复杂一点，我们可以搭配不仅仅一个 <code>:not()</code>伪类，像是这样，可以同时多个配合使用，选择一个 href, target, rel 属性都没有的 a 标签：</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">a:not([href]):not([target]):not([rel])</span><span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="重写行内样式">重写行内样式</h3> <p>甚至乎，如果有这种场景，我们还可以覆盖掉行内样式，像这样:</p> <div class="language-CSS extra-class"><pre class="language-css"><code>&lt;p style=<span class="token string">&quot;height: 24px; color: red;&quot;</span>&gt;xxxxxx&lt;/p&gt;
</code></pre></div><p>我们可以使用属性选择器强制覆盖掉上述样式：</p> <div class="language-CSS extra-class"><pre class="language-css"><code><span class="token selector">[style*=&quot;color: red&quot;]</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="角标功能">角标功能</h3> <p>伪元素的 <code>content</code> 属性，通过 <code>attr(xxx)</code>，可以读取到对应 DOM 元素标签名为 xxx 的属性的值。</p> <p>所以，配合属性选择器，我们可以很容易的实现一些角标功能：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div count=&quot;5&quot;&gt;Message&lt;/div&gt;

div {
    position: relative;
    width: 200px;
    height: 64px;
}

div::before {
    content: attr(count);
    ...
}

</code></pre></div><h3 id="类-title-功能">类 title 功能</h3> <p>我们都知道，如果给一个图片添加一个 title 属性，当 hover 到图片上面的时，会展示 title 属性里面附加的内容，类似这样：</p> <div class="language-CSS extra-class"><pre class="language-css"><code>&lt;img src=<span class="token string">&quot;xxxxxxxxx&quot;</span> title=<span class="token string">&quot;风景图片&quot;</span>&gt;
</code></pre></div><p>这里不一定是 <code>img</code> 标签，其他标签添加 <code>title</code> 属性都能有类似的效果。但是这里会有两个问题：</p> <ul><li>响应太慢，通常鼠标 hover 上去要隔 1s 左右才会出现这个 title 框</li> <li>框体结构无法自定义，弹出框的样式无法自定义</li></ul> <p>所以这里，如果我们希望有一些自己能够控制样式的可快速响应的浮层，可以自定义一个类 title 属性，我们把它称作 <code>popTitle</code>，那么可以这样操作：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;p class=&quot;title&quot; popTitle=&quot;文字弹出&quot;&gt;这是一段描述性文字&lt;/p&gt;
&lt;p class=&quot;title&quot; popTitle=&quot;标题A&quot;&gt;这是一段描述性文字&lt;/p&gt;

p[popTitle]:hover::before {
    content: attr(popTitle);
    position: absolute;
    bottom: -20px;
    left: 10px;
    font-size: 12px;
    background: linear-gradient(#fff, #eee);
    padding: 2px 6px;
    z-index: 10;
    color: #333;
    border: 1px solid #666;
    border-radius: 5px;
    box-shadow: 1px 1px 1px 1px #999;
}
</code></pre></div><blockquote><p>浏览器自带的 <code>title</code> 属性延迟响应是添加一层防抖保护，避免频繁触发，这里也可以通过对伪元素添加一个100毫秒级的 <code>transition-delay</code> 实现延迟展示。</p></blockquote> <h3 id="商品展示提示效果">商品展示提示效果</h3> <p>好，上面的运用实例我们再拓展一下，考虑如何更好的运用到实际业务中，其实也是有很多用武之地的。譬如说，通过属性选择器给图片添加标签，类似一些电商网站会用到的一个效果。</p> <p>我们希望给图片添加一些标签，在 hover 图片的时候展示出来。</p> <blockquote><p>当然，CSS 中，诸如 <code>&lt;img&gt;</code> 、<code>&lt;input&gt;</code>、<code>&lt;iframe&gt;</code>，这几个标签是不支持伪元素的。</p></blockquote> <p>所以这里我们输出 DOM 的时候，给 img 的父元素带上部分图片描述标签。通过 CSS 去控制这些标签的展示：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;g-wrap&quot; desc1=&quot;商品描述AAA&quot; desc2=&quot;商品描述BBB&quot;&gt;
    &lt;img src=&quot;https://xx.baidu.com/timg?xxx&quot; /&gt;
&lt;/div&gt;

[desc1]::before,
[desc2]::after {
    position: absolute;
    opacity: 0;
}

[desc1]::before {
    content: attr(desc1);
}

[desc2]::after {
    content: attr(desc2);
}

[desc1]:hover::before,
[desc2]:hover::after{
    opacity: 1;
    transform: translate(0px, 0);
}

</code></pre></div><h3 id="属性选择器配合伪元素实现下载提示">属性选择器配合伪元素实现下载提示</h3> <p>我们知道，HTML5 对标签新增了一个 download 属性，此属性指示浏览器下载 URL 而不是导航到它。</p> <p>那么，我们可以利用属性选择器对所有带此类标签的元素进行提示。像这样：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;a href=&quot;https://www.xxx.com/logo.png&quot; download=&quot;logo&quot;&gt;logo&lt;/a&gt;

[download] {
    position: relative;
    color: hotpink;
}

[download]:hover::before {
    content: &quot;点击可下载此资源！&quot;;
    position: absolute;
    ...
}

</code></pre></div><p>当我们 hover 到这个链接的时候，就会这样，提示用户，这是一个可以下载的按钮：</p> <h3 id="属性选择器配合伪元素对链接的协议进行提示-http-https">属性选择器配合伪元素对链接的协议进行提示(http/https)</h3> <p>现在大部分网站不是切了 https 就是走在切 https 的路上。如果页面上的链接很多或者对跳转页面的协议有要求，使用属性选择器配合伪元素对链接的协议进行提示也不失为一种好方法。</p> <div class="language- extra-class"><pre class="language-text"><code>a[href^=&quot;http:&quot;]:hover::before {
    content: &quot;这是一个http链接&quot;;
    ...
}

a[href^=&quot;https:&quot;]:hover::before {
    content: &quot;这是一个https链接&quot;;
}

</code></pre></div><p>当然，伪元素的内容不一定是纯文字的，为了给用户更好的体验，图或者图片加文字也是可以的。</p> <p>譬如我们可以形象化地给 https 链接站点再加一个小绿锁，符合用户的一些常规认知。</p> <p>这里我将小绿锁的图片使用 base64 嵌入到伪元素当中，简单的使用 <code>text-indent</code> 控制图文的排布：</p> <div class="language- extra-class"><pre class="language-text"><code>a[href^=&quot;https:&quot;]:hover::before {
    content: &quot;&quot;;
    padding-left: 16px;
    background: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAb0lEQVQoz2NkQAJc5aIc//7962VgYIiDCi1iYmIq/tb5+gdMDROyBqhiGWYmJlVmJiZVBgYGGagYdsBRKvyZu1xUAsbnLheV4CgV/oxbQ4nwf0JiTAwkAkaIU4QaGf4z1uFX+b/pR/e7epJtGJEaAKDXHzEJ3KYmAAAAAElFTkSuQmCC&quot;);
    ...
}

</code></pre></div><h3 id="属性选择器对文件类型的处理">属性选择器对文件类型的处理</h3> <p>也可以对一些可下载资源进行视觉上 icon 的提示。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;xxx.doc&quot;&gt;Word File&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;xxx.ppt&quot;&gt;PPT File&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;xxx.PDF&quot;&gt;PDF File&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;xxx.MP3&quot;&gt;MP3 File&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;xxx.avi&quot;&gt;AVI File&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

a[href$=&quot;.doc&quot; i]::before {
    content: &quot;doc&quot;;
    background: #a9c4f5;
}
a[href$=&quot;.ppt&quot; i]::before {
    content: &quot;ppt&quot;;
    background: #f8e94f;
}
a[href$=&quot;.pdf&quot; i]::before {
    content: &quot;pdf&quot;;
    background: #fb807a;
}
a[href$=&quot;.mp3&quot; i]::before {
    content: &quot;mp3&quot;;
    background: #cb5cf5;
}
a[href$=&quot;.avi&quot; i]::before {
    content: &quot;avi&quot;;
    background: #5f8ffc;
}
</code></pre></div><h3 id="input-类型的处理"><code>input</code> 类型的处理</h3> <p>属性选择器其实对 <code>input</code> 类型的元素是一个很好的帮手，因为 <code>input</code> 常用，且经常搭配很多不同功能的属性值。</p> <p>只不过，由于 <code>input</code> 类型无法添加伪元素。所以搭配属性选择器更多的通过属性的各种状态改变自身的样式。</p> <p>简单举个例子，譬如：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type=&quot;text&quot;&gt;
&lt;input type=&quot;text&quot; disabled&gt;

input[type=text][disabled] {
    border: 1px solid #aaa;
    background: #ccc;
}

</code></pre></div><p>这里，我们选择了 <code>type=text</code> 并且拥有 <code>disabled</code> 属性的 <code>input</code> 元素，将它的背景色和边框色设置为灰色。给与用户更好的视觉提示。</p> <h3 id="选择器优先级-，-class-与-class-xxx-是否等价">选择器优先级 ，<code>.class</code> 与 <code>[class=xxx]</code> 是否等价</h3> <p>考虑这个问题，下面两个选择器是否等值？</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div class=&quot;header&quot;&gt;

.header {
    color: red;
}

[class~=&quot;header&quot;] {
    color: blue;
}

</code></pre></div><p>上述两个选择器，作用完全一致。然而，如果是下面这种情况，两者就不一样了：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=&quot;header&quot;&gt;

#header{
    color: red;
}

[id=&quot;header&quot;] {
    color: blue;
}

</code></pre></div><p>这里，ID 选择器<code>#header</code>比属性选择器<code>[id=&quot;header&quot;]</code>的权重更高，虽然两者能够选择同样的元素，但是两者并不完全等价。</p> <h3 id="是否需要引号">是否需要引号</h3> <p>考虑下面三种情况，是否一致？</p> <div class="language- extra-class"><pre class="language-text"><code>[class=&quot;header&quot;]{ ... }

[class='header']{ ... }

[class=header]{ ... }

</code></pre></div><p>事实上，从 HTML2 开始，不添加引号的写法就已经得到支持，所以上述三种写法都是正确的。</p> <p>然而，能够不使用引号也是有限制的，再看看下面这种写法：</p> <div class="language- extra-class"><pre class="language-text"><code>a[href=bar] { ... }

a[href^=http://] {... }

</code></pre></div><p>第二个选择器是个无效选择器，<code>://</code> 不引起来的话会识别错误，必须使用引号引起来像这样<code>a[href^=&quot;http://&quot;]</code>，这里具体的原因可以看看这篇文章：<a href="https://mothereff.in/unquoted-attributes" target="_blank" rel="noopener noreferrer">Unquoted attribute value validator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>所以保险起见，建议都加上引号。</p> <h2 id="优先级">优先级</h2> <ul><li>!important</li> <li>内联样式style=&quot;&quot;</li> <li>ID选择器#id</li> <li>类选择器/属性选择器/伪类选择器.class.active[href=&quot;&quot;]</li> <li>元素选择器/关系选择器/伪元素选择器html+div&gt;span::after</li> <li>通配符选择器*</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.c1618cf4.js" defer></script><script src="/assets/js/3.ed1bf183.js" defer></script><script src="/assets/js/30.877d7c50.js" defer></script>
  </body>
</html>
