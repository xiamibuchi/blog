(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{414:function(t,r,s){"use strict";s.r(r);var n=s(9),o=Object(n.a)({},(function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"目录与权限"}},[t._v("目录与权限")]),t._v(" "),s("h2",{attrs:{id:"目录"}},[t._v("目录")]),t._v(" "),s("p",[s("code",[t._v("-rwxrwx--- 1 root root 970 Jul 13 2018 yum.conf")])]),t._v(" "),s("h3",{attrs:{id:"权限"}},[t._v("权限")]),t._v(" "),s("p",[t._v("root基本上是不受系統的權限所限制的， 所以無論檔案權限為何，預設root都可以存取")]),t._v(" "),s("p",[s("code",[t._v("-rwxrwx---")])]),t._v(" "),s("p",[t._v("第一個字元代表這個檔案是『目錄、檔案或連結檔等等』：\n當為[ d ]則是目錄，例如上表檔名為『.config』的那一行；\n當為[ - ]則是檔案，例如上表檔名為『initial-setup-ks.cfg』那一行；\n若是[ l ]則表示為連結檔(link file)；\n若是[ b ]則表示為裝置檔裡面的可供儲存的周邊設備(可隨機存取裝置)；\n若是[ c ]則表示為裝置檔裡面的序列埠設備，例如鍵盤、滑鼠(一次性讀取裝置)。")]),t._v(" "),s("p",[t._v("接下來的字元中，以三個為一組，且均為『rwx』 的三個參數的組合。其中，[ r ]代表可讀(read)、[ w ]代表可寫(write)、[ x ]代表可執行(execute)。 要注意的是，這三個權限的位置不會改變，如果沒有權限，就會出現減號[ - ]而已。\n第一組為『檔案擁有者可具備的權限』，以『initial-setup-ks.cfg』那個檔案為例， 該檔案的擁有者可以讀寫，但不可執行；\n第二組為『加入此群組之帳號的權限』；\n第三組為『非本人且沒有加入本群組之其他帳號的權限』。")]),t._v(" "),s("h3",{attrs:{id:"i-node"}},[t._v("i-node")]),t._v(" "),s("p",[t._v("每個檔案都會將他的權限與屬性記錄到檔案系統的i-node中，不過，我們使用的目錄樹卻是使用檔名來記錄， 因此每個檔名就會連結到一個i-node。這個屬性記錄的，就是有多少不同的檔名連結到相同的一個i-node號碼")]),t._v(" "),s("h3",{attrs:{id:"用户"}},[t._v("用户")]),t._v(" "),s("h3",{attrs:{id:"群组"}},[t._v("群组")]),t._v(" "),s("h3",{attrs:{id:"容量大小"}},[t._v("容量大小")]),t._v(" "),s("p",[t._v("預設單位為bytes")]),t._v(" "),s("h3",{attrs:{id:"档案名"}},[t._v("档案名")]),t._v(" "),s("p",[t._v("如果檔名之前多一個『 . 』，則代表這個檔案為『隱藏檔』。使用"),s("code",[t._v("ls -a")]),t._v(" 可以查看隐藏档案")]),t._v(" "),s("h3",{attrs:{id:"建檔日期或者是最近的修改日期"}},[t._v("建檔日期或者是最近的修改日期")]),t._v(" "),s("h2",{attrs:{id:"用户和群组"}},[t._v("用户和群组")]),t._v(" "),s("p",[t._v("chgrp ：改變檔案所屬群組\nchown ：改變檔案擁有者\nchmod ：改變檔案的權限, SUID, SGID, SBIT等等的特性")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[root@study ~]# chgrp [-R] dirname/filename ...\n選項與參數：\n-R : 進行遞迴(recursive)的持續變更，亦即連同次目錄下的所有檔案、目錄\n     都更新成為這個群組之意。常常用在變更某一目錄內所有的檔案之情況。\n範例：\n[root@study ~]# chgrp users initial-setup-ks.cfg\n[root@study ~]# ls -l\n-rw-r--r--. 1 root users 1864 May  4 18:01 initial-setup-ks.cfg\n[root@study ~]# chgrp testing initial-setup-ks.cfg\nchgrp: invalid group:  `testing' <== 發生錯誤訊息囉～找不到這個群組名～\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\n[root@study ~]# chown [-R] 帳號名稱 檔案或目錄\n[root@study ~]# chown [-R] 帳號名稱:群組名稱 檔案或目錄\n選項與參數：\n-R : 進行遞迴(recursive)的持續變更，亦即連同次目錄下的所有檔案都變更\n\n範例：將 initial-setup-ks.cfg 的擁有者改為bin這個帳號：\n[root@study ~]# chown bin initial-setup-ks.cfg\n[root@study ~]# ls -l\n-rw-r--r--. 1 bin  users 1864 May  4 18:01 initial-setup-ks.cfg\n\n範例：將 initial-setup-ks.cfg 的擁有者與群組改回為root：\n[root@study ~]# chown root:root initial-setup-ks.cfg\n[root@study ~]# ls -l\n-rw-r--r--. 1 root root 1864 May  4 18:01 initial-setup-ks.cfg\n")])])]),s("p",[t._v("改變權限, chmod\n檔案權限的改變使用的是chmod這個指令，但是，權限的設定方法有兩種， 分別可以使用數字或者是符號來進行權限的變更。我們就來談一談：")]),t._v(" "),s("p",[t._v("數字類型改變檔案權限")]),t._v(" "),s("p",[t._v("Linux檔案的基本權限就有九個，分別是owner/group/others三種身份各有自己的read/write/execute權限， 先複習一下剛剛上面提到的資料：檔案的權限字元為：『-rwxrwxrwx』， 這九個權限是三個三個一組的！其中，我們可以使用數字來代表各個權限，各權限的分數對照表如下：\nr:4\nw:2\nx:1\n每種身份(owner/group/others)各自的三個權限(r/w/x)分數是需要累加的，例如當權限為： [-rwxrwx---] 分數則是：\nowner = rwx = 4+2+1 = 7\ngroup = rwx = 4+2+1 = 7\nothers= --- = 0+0+0 = 0\n所以等一下我們設定權限的變更時，該檔案的權限數字就是770啦！變更權限的指令chmod的語法是這樣的：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("[root@study ~]# chmod [-R] xyz 檔案或目錄\n選項與參數：\nxyz : 就是剛剛提到的數字類型的權限屬性，為 rwx 屬性數值的相加。\n-R : 進行遞迴(recursive)的持續變更，亦即連同次目錄下的所有檔案都會變更\n\n[root@study ~]# ls -al .bashrc\n-rw-r--r--. 1 root root 176 Dec 29  2013 .bashrc\n[root@study ~]# chmod 777 .bashrc\n[root@study ~]# ls -al .bashrc\n-rwxrwxrwx. 1 root root 176 Dec 29  2013 .bashrc\n")])])]),s("p",[t._v("如果有些檔案你不希望被其他人看到，那麼應該將檔案的權限設定為例如：『-rwxr-----』，那就下達『 chmod 740 filename 』吧！")]),t._v(" "),s("p",[t._v("Linux 是多人工作的系统，为了考虑每个人的隐私权限及工作环境，需要用户和群组。")]),t._v(" "),s("h3",{attrs:{id:"用户（user）"}},[t._v("用户（User）")]),t._v(" "),s("p",[t._v("Linux系统为每个用户提供一个用户主目录，用户的主目录为/home/"),s("username")],1),t._v(" "),s("p",[t._v("/etc/passwd 记录用户信息。以 "),s("code",[t._v(":")]),t._v(" 分割，分别是 "),s("code",[t._v("用户名:口令:组识别号:组内用户列表")])]),t._v(" "),s("p",[t._v("/etc/shadow 记录个人密码。")]),t._v(" "),s("h3",{attrs:{id:"群组（group）"}},[t._v("群组（Group）")]),t._v(" "),s("p",[t._v("可将多个用户添加到一个群组中，为群组设置权限")]),t._v(" "),s("p",[t._v("/etc/group 记录群组信息。以 "),s("code",[t._v(":")]),t._v(" 分割，分别是 "),s("code",[t._v("组名:口令:组识别号:组内用户列表")])]),t._v(" "),s("ul",[s("li",[t._v("“组名”是用户组的名称，由字母或数字构成。与/etc/passwd中的登录名一样，组名不应重复。")]),t._v(" "),s("li",[t._v("“口令”字段存放的是用户组加密后的口令字。一般Linux系统的用户组都没有口令，即这个字段一般为空，或者是*。")]),t._v(" "),s("li",[t._v("“组标识号”与用户标识号类似，也是一个整数，被系统内部用来标识组。")]),t._v(" "),s("li",[t._v("“组内用户列表”是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。")])]),t._v(" "),s("h3",{attrs:{id:"其他人（others）"}},[t._v("其他人（Others）")]),t._v(" "),s("p",[t._v("除了文件所有者或文件所属群组成员的用户，都是其他人。")]),t._v(" "),s("h3",{attrs:{id:"root"}},[t._v("root")]),t._v(" "),s("p",[t._v("可以访问Linux机器上的所有文件")]),t._v(" "),s("h4",{attrs:{id:"添加"}},[t._v("添加")]),t._v(" "),s("p",[t._v("groupadd  test            //添加一个群组\nuseradd -g  test test1    //添加一个用户并分配给指定的群组\npasswd test1              // 设定新用户密码\nsu - test1 //切换普通用户")]),t._v(" "),s("h4",{attrs:{id:"查看"}},[t._v("查看")]),t._v(" "),s("p",[t._v("cat /etc/passwd        //查看用户账户信息\ncat /etc/shadow       //查看用户密码信息\ncat /etc/group        //查看用户群组信息")]),t._v(" "),s("h3",{attrs:{id:"更改"}},[t._v("更改")]),t._v(" "),s("p",[t._v("-rwxr-x-wx //linux对每个文件都指定了权限，用1333格式来表示文件内容，以及所属者，组，其他人权限\nchgrp  test  install.log  //改变文件组"),s("br"),t._v("\nchown  test  install.log  //改变文件拥有者\nchown  root:root install.log  //同时改变组和拥有者\nchmod  777    install.log   //改变文件对用户权限，read=4，write=2，excute=1，相加\nchmod  u=rw,g=rx,o=rx install.log  //文件对应用户用u，g，o来表示。\nchmod   a+w install.log  //a表示all ，表示同时对文件或者目录进行权限操作。\nchmod   a-w  install.log")])])}),[],!1,null,null,null);r.default=o.exports}}]);