(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{401:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"模块化"}},[t._v("模块化")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000000733959",target:"_blank",rel:"noopener noreferrer"}},[t._v("模块化资料"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("概念:")]),t._v(" "),a("ul",[a("li",[t._v("将复杂的程序依据规范封装成几个块(文件), 并进行组合")]),t._v(" "),a("li",[t._v("块的内部数据与实现是私有的, 只是向外部暴露一些接口")]),t._v(" "),a("li",[t._v("在js中，一个模块就是实现特定功能的文件（js文件）")]),t._v(" "),a("li",[t._v("遵循模块的机制，想要什么功能就加载什么模块")]),t._v(" "),a("li",[t._v("模块化开发需要遵循规范")])]),t._v(" "),a("p",[t._v("解决的问题:")]),t._v(" "),a("ul",[a("li",[t._v("1 命名冲突")]),t._v(" "),a("li",[t._v("2 文件依赖（加载文件）")]),t._v(" "),a("li",[t._v("3 模块的复用")]),t._v(" "),a("li",[t._v("4 统一规范和开发方式")])]),t._v(" "),a("h2",{attrs:{id:"历史"}},[t._v("历史")]),t._v(" "),a("ol",[a("li",[t._v("namespace (对象命名空间)")]),t._v(" "),a("li",[t._v("IIFE (立即调用的函数表达式)")])]),t._v(" "),a("h2",{attrs:{id:"规范"}},[t._v("规范")]),t._v(" "),a("ul",[a("li",[t._v("AMD 浏览器端\n"),a("ul",[a("li",[t._v("requirejs")])])]),t._v(" "),a("li",[t._v("CommonJS nodejs\n"),a("ul",[a("li",[t._v("加载模块：require()")]),t._v(" "),a("li",[t._v("导出模块：module.exports = {} / exports = {}")])])]),t._v(" "),a("li",[t._v("ES6 中的 import / export")]),t._v(" "),a("li",[t._v("CMD 浏览器端\n"),a("ul",[a("li",[t._v("玉伯（阿里前端大神） -> seajs")])])]),t._v(" "),a("li",[t._v("UMD 通用模块化规范，可以兼容 AMD、CommonJS、浏览器中没有模块化规范 等这些语法")])]),t._v(" "),a("h3",{attrs:{id:"amd"}},[t._v("AMD")]),t._v(" "),a("ul",[a("li",[t._v("Asynchronous Module Definition：异步模块定义，浏览器端模块开发的规范")]),t._v(" "),a("li",[t._v("代表：require.js")]),t._v(" "),a("li",[a("a",{attrs:{href:"http://requirejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("requirejs 文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("特点：模块被异步加载，模块加载不影响后面语句的运行")])]),t._v(" "),a("h3",{attrs:{id:"基本语法"}},[t._v("基本语法")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dep1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dep2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" someExportedValue\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../file"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("优点：")]),t._v(" "),a("ul",[a("li",[t._v("适合在浏览器环境中异步加载模块")]),t._v(" "),a("li",[t._v("可以并行加载多个模块")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ul",[a("li",[t._v("提高了开发成本，代码的阅读和书写比较困难，模块定义方式的语义不顺畅")]),t._v(" "),a("li",[t._v("不符合通用的模块化思维方式，是一种妥协的实现")])]),t._v(" "),a("h2",{attrs:{id:"cmd"}},[t._v("CMD")]),t._v(" "),a("p",[t._v("CMD 与 AMD 的区别")]),t._v(" "),a("ul",[a("li",[t._v("对于依赖的模块AMD是提前执行，CMD是延迟执行。不过RequireJS从2.0开始，也改成可以延迟执行(根据写法不同，处理方式不通过)")]),t._v(" "),a("li",[t._v("CMD推崇依赖就近，AMD推崇依赖前置")])]),t._v(" "),a("h3",{attrs:{id:"commonjs"}},[t._v("CommonJS")]),t._v(" "),a("p",[t._v("Node 应用由模块组成，采用 CommonJS 模块规范。每个文件就是一个模块，有自己的作用域。")]),t._v(" "),a("p",[t._v("输出的是一个值的拷贝，编译时输出接口")]),t._v(" "),a("p",[t._v("CommonJS规范规定，每个模块内部，module变量代表当前模块。这个变量是一个对象，它的exports属性（即module.exports）是对外的接口。加载某个模块，其实是加载该模块的module.exports属性。")]),t._v(" "),a("h4",{attrs:{id:"特点"}},[t._v("特点")]),t._v(" "),a("ul",[a("li",[t._v("所有代码都运行在模块作用域，不会污染全局作用域。")]),t._v(" "),a("li",[t._v("模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存。")]),t._v(" "),a("li",[t._v("模块加载的顺序，按照其在代码中出现的顺序。")])]),t._v(" "),a("h4",{attrs:{id:"基本语法-2"}},[t._v("基本语法")]),t._v(" "),a("p",[t._v("暴露模块：module.exports = value或exports.xxx = value\n引入模块：require(xxx),如果是第三方模块，xxx为模块名；如果是自定义模块，xxx为模块文件路径")]),t._v(" "),a("h3",{attrs:{id:"es6"}},[t._v("ES6")]),t._v(" "),a("p",[t._v("import/ export，export default")]),t._v(" "),a("p",[t._v("输出的是值的引用，运行时加载。编译时就能确定模块的依赖关系，以及输入和输出的变量")])])}),[],!1,null,null,null);s.default=e.exports}}]);