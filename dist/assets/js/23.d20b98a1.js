(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{335:function(n,e,t){"use strict";t.r(e);var o=t(9),r=Object(o.a)({},(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("一般Laravel切换数据库链接只能在 config/database.php 中写好再调用，但如果数据库名不确定该如何动态创建呢？\n<?php")]),n._v(" "),t("p",[n._v("namespace App\\Utils;")]),n._v(" "),t("p",[n._v("use MongoDB\\Client;\nuse Symfony\\Component\\VarDumper\\VarDumper;")]),n._v(" "),t("p",[n._v("$url = 'mongodb://127.0.0.1/';")]),n._v(" "),t("p",[n._v("class Mongo\n{\nstatic function find(string $url = 'mongodb://127.0.0.1/', string $database, string $collection) {\n$collection = self::connect($url, $database, $collection);\n$res = $collection->find();\nif (!$res || is_array($res)) {\nreturn [];\n}")]),n._v(" "),t("pre",[t("code",[n._v("    $res = $res->toArray();\n    foreach ($res as &$ele) {\n            if (!$ele) {\n                    continue;\n            }\n            $ele = (array)$ele;\n    }\n    return $res;\n    }\n\n    private static function connect(string $url, string $database, string $collection) {\n            $client=new Client($url);\n            $db=$client->selectDatabase($database);\n            $collection=$db->selectCollection($collection);\n            return $collection;\n    }\n")])]),n._v(" "),t("p",[n._v("}")])])}),[],!1,null,null,null);e.default=r.exports}}]);