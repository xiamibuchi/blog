(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{336:function(e,a,r){"use strict";r.r(a);var t=r(9),s=Object(t.a)({},(function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"composer"}},[e._v("composer")]),e._v(" "),r("h2",{attrs:{id:"简介"}},[e._v("简介")]),e._v(" "),r("h2",{attrs:{id:"安装-composer"}},[e._v("安装 Composer")]),e._v(" "),r("h3",{attrs:{id:"linux-mac："}},[e._v("Linux/Mac：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("wget https://dl.laravel-china.org/composer.phar -O /usr/local/bin/composer\nchmod a+x /usr/local/bin/composer\n")])])]),r("p",[e._v("如遇权限不足，可添加 "),r("code",[e._v("sudo")]),e._v("。")]),e._v(" "),r("h3",{attrs:{id:"windows："}},[e._v("Windows：")]),e._v(" "),r("ol",[r("li",[e._v("直接下载 composer.phar，地址："),r("a",{attrs:{href:"https://dl.laravel-china.org/composer.phar",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://dl.laravel-china.org/composer.phar"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("把下载的 composer.phar 放到 PHP 安装目录")]),e._v(" "),r("li",[e._v("新建 composer.bat, 添加如下内容，并保存：")])]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('@php "%~dp0composer.phar" %*\n')])])]),r("h3",{attrs:{id:"查看当前版本"}},[e._v("查看当前版本")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("composer -V\n")])])]),r("h3",{attrs:{id:"升级版本"}},[e._v("升级版本")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("composer selfupdate\n")])])]),r("blockquote",[r("p",[e._v("注意 "),r("code",[e._v("selfupdate")]),e._v(" 升级命令会连接官方服务器，速度很慢。建议直接下载我们的 "),r("code",[e._v("composer.phar")]),e._v(" 镜像，每天都会更新到最新。")])]),e._v(" "),r("h3",{attrs:{id:"遇到问题？"}},[e._v("遇到问题？")]),e._v(" "),r("p",[r("code",[e._v("composer")]),e._v(" 命令后面加上 -vvv （是3个v）可以打印出调错信息，命令如下：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("composer -vvv create-project laravel/laravel blog\ncomposer -vvv require psr/log\n")])])]),r("p",[e._v("如果自己解决不了，或发现 BUG，可以在 "),r("a",{attrs:{href:"https://laravel-china.org/users/12063",target:"_blank",rel:"noopener noreferrer"}},[e._v("@扣丁禅师"),r("OutboundLink")],1),e._v(" 的 GitHub 上 "),r("a",{attrs:{href:"https://github.com/zencodex/composer/issues/new",target:"_blank",rel:"noopener noreferrer"}},[e._v("创建 Issue"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("注意提问时请带上 -vvv 的输出，并且要求叙述清晰，第一次提问的同学请阅读 "),r("a",{attrs:{href:"https://laravel-china.org/topics/2396/wisdom-of-asking-questions-chinese-version",target:"_blank",rel:"noopener noreferrer"}},[e._v("关于提问的智慧"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"镜像"}},[e._v("镜像")]),e._v(" "),r("h3",{attrs:{id:"laravel-china"}},[e._v("laravel-china")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://packagist.laravel-china.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("地址"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("使用 Composer 镜像加速有两种选项：")]),e._v(" "),r("ul",[r("li",[e._v("选项一：全局配置，这样所有项目都能惠及（推荐）；")]),e._v(" "),r("li",[e._v("选项二：单独项目配置；")])]),e._v(" "),r("p",[e._v("选项一、全局配置（推荐）")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("composer config -g repo.packagist composer https://packagist.laravel-china.org\n")])])]),r("p",[e._v("选项二、单独使用")]),e._v(" "),r("p",[e._v("如果仅限当前工程使用镜像，去掉 -g 即可，如下：")]),e._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("composer config repo.packagist composer https://packagist.laravel-china.org\n")])])]),r("h4",{attrs:{id:"常见问题"}},[e._v("常见问题")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("已存在 composer.lock 文件，先删除，再运行 "),r("code",[e._v("composer install")]),e._v(" 重新生成。")]),e._v(" "),r("blockquote",[r("p",[e._v("原因：composer.lock 缓存了之前的配置信息，从而导致新的镜像配置无效。")])])]),e._v(" "),r("li",[r("p",[e._v("使用 "),r("code",[e._v("laravel new")]),e._v(" 命令创建工程， 这个命令会从 "),r("a",{attrs:{href:"http://cabinet.laravel.com/latest.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里"),r("OutboundLink")],1),e._v(" 下一个zip包，里面自带了 composer.lock，和上面原因一样，也无法使用镜像加速，解决方法：")])])]),e._v(" "),r("ul",[r("li",[e._v("方法一（推荐）：\n不使用 "),r("code",[e._v("laravel new")]),e._v("，直接用 "),r("code",[e._v("composer create-project laravel/laravel xxx")]),e._v(" 新建工程。")]),e._v(" "),r("li",[e._v("方法二：\n运行 "),r("code",[e._v("laravel new xxx")]),e._v("，当看见屏幕出现 - Installing doctrine/inflector 时，"),r("code",[e._v("Ctrl + C")]),e._v(" 终止命令，cd xxx 进入，删除 composer.lock，再运行 "),r("code",[e._v("composer install")]),e._v("。")])])])}),[],!1,null,null,null);a.default=s.exports}}]);