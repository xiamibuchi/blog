<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>canvas | 羊圈</title>
    <meta name="description" content="神羊的羊圈">
    <meta name="theme-color" content="#00adb5">
  <link rel="icon" href="/images/favicon.png">
  <meta itemprop="image" content="/js_tricks/images/favicon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#00adb5">
    
    <link rel="preload" href="/assets/css/0.styles.18cbf62c.css" as="style"><link rel="preload" href="/assets/js/app.c1618cf4.js" as="script"><link rel="preload" href="/assets/js/3.ed1bf183.js" as="script"><link rel="preload" href="/assets/js/67.47eb30d1.js" as="script"><link rel="prefetch" href="/assets/js/1.b3385aaa.js"><link rel="prefetch" href="/assets/js/10.b526617f.js"><link rel="prefetch" href="/assets/js/100.9c76dc44.js"><link rel="prefetch" href="/assets/js/101.6b17334c.js"><link rel="prefetch" href="/assets/js/102.6072298e.js"><link rel="prefetch" href="/assets/js/103.8bf22d9c.js"><link rel="prefetch" href="/assets/js/104.da37280c.js"><link rel="prefetch" href="/assets/js/105.f6adc7cb.js"><link rel="prefetch" href="/assets/js/106.c479af52.js"><link rel="prefetch" href="/assets/js/107.7864a896.js"><link rel="prefetch" href="/assets/js/108.59251a56.js"><link rel="prefetch" href="/assets/js/109.401930b9.js"><link rel="prefetch" href="/assets/js/11.8c8a17aa.js"><link rel="prefetch" href="/assets/js/110.7f385c95.js"><link rel="prefetch" href="/assets/js/111.874ae40f.js"><link rel="prefetch" href="/assets/js/112.b88da53c.js"><link rel="prefetch" href="/assets/js/12.9a241d83.js"><link rel="prefetch" href="/assets/js/13.50f10eff.js"><link rel="prefetch" href="/assets/js/14.e6ebc69a.js"><link rel="prefetch" href="/assets/js/15.1145f768.js"><link rel="prefetch" href="/assets/js/16.8f53c91c.js"><link rel="prefetch" href="/assets/js/17.f5d33107.js"><link rel="prefetch" href="/assets/js/18.0fa172d4.js"><link rel="prefetch" href="/assets/js/19.b3ec819d.js"><link rel="prefetch" href="/assets/js/20.39dd808d.js"><link rel="prefetch" href="/assets/js/21.982519d1.js"><link rel="prefetch" href="/assets/js/22.e43852de.js"><link rel="prefetch" href="/assets/js/23.d20b98a1.js"><link rel="prefetch" href="/assets/js/24.8df2408b.js"><link rel="prefetch" href="/assets/js/25.6b7a2412.js"><link rel="prefetch" href="/assets/js/26.e0d54718.js"><link rel="prefetch" href="/assets/js/27.fa540f01.js"><link rel="prefetch" href="/assets/js/28.12872a08.js"><link rel="prefetch" href="/assets/js/29.a5357381.js"><link rel="prefetch" href="/assets/js/30.877d7c50.js"><link rel="prefetch" href="/assets/js/31.b4278efa.js"><link rel="prefetch" href="/assets/js/32.ebc68bbd.js"><link rel="prefetch" href="/assets/js/33.f08d05c9.js"><link rel="prefetch" href="/assets/js/34.a7d62a8e.js"><link rel="prefetch" href="/assets/js/35.f5d32a01.js"><link rel="prefetch" href="/assets/js/36.1ba48a2d.js"><link rel="prefetch" href="/assets/js/37.3e7062af.js"><link rel="prefetch" href="/assets/js/38.46a40d24.js"><link rel="prefetch" href="/assets/js/39.f11b85d4.js"><link rel="prefetch" href="/assets/js/4.1b01fc51.js"><link rel="prefetch" href="/assets/js/40.28ecd869.js"><link rel="prefetch" href="/assets/js/41.5e8bc3d9.js"><link rel="prefetch" href="/assets/js/42.ff6b4e3c.js"><link rel="prefetch" href="/assets/js/43.9a77ccd5.js"><link rel="prefetch" href="/assets/js/44.b54ec253.js"><link rel="prefetch" href="/assets/js/45.cbee26e2.js"><link rel="prefetch" href="/assets/js/46.5e19d09a.js"><link rel="prefetch" href="/assets/js/47.0acc679f.js"><link rel="prefetch" href="/assets/js/48.bfdd685b.js"><link rel="prefetch" href="/assets/js/49.e42f572c.js"><link rel="prefetch" href="/assets/js/5.d587daef.js"><link rel="prefetch" href="/assets/js/50.85bfbfcd.js"><link rel="prefetch" href="/assets/js/51.576a7373.js"><link rel="prefetch" href="/assets/js/52.f26ffee5.js"><link rel="prefetch" href="/assets/js/53.163cf701.js"><link rel="prefetch" href="/assets/js/54.c1132ecc.js"><link rel="prefetch" href="/assets/js/55.e089f0d4.js"><link rel="prefetch" href="/assets/js/56.be59a8ef.js"><link rel="prefetch" href="/assets/js/57.a015f201.js"><link rel="prefetch" href="/assets/js/58.0235e47f.js"><link rel="prefetch" href="/assets/js/59.0b6f5acf.js"><link rel="prefetch" href="/assets/js/6.69e07e2c.js"><link rel="prefetch" href="/assets/js/60.641c2f95.js"><link rel="prefetch" href="/assets/js/61.17b03fa8.js"><link rel="prefetch" href="/assets/js/62.96134956.js"><link rel="prefetch" href="/assets/js/63.f845d120.js"><link rel="prefetch" href="/assets/js/64.e9ed93d9.js"><link rel="prefetch" href="/assets/js/65.2bd53147.js"><link rel="prefetch" href="/assets/js/66.1f03bf79.js"><link rel="prefetch" href="/assets/js/68.cc339c5a.js"><link rel="prefetch" href="/assets/js/69.2ff09789.js"><link rel="prefetch" href="/assets/js/7.3199f861.js"><link rel="prefetch" href="/assets/js/70.9d03d949.js"><link rel="prefetch" href="/assets/js/71.7eab78cd.js"><link rel="prefetch" href="/assets/js/72.20dd5f6e.js"><link rel="prefetch" href="/assets/js/73.6c6af6b0.js"><link rel="prefetch" href="/assets/js/74.8eed043b.js"><link rel="prefetch" href="/assets/js/75.3b5158cd.js"><link rel="prefetch" href="/assets/js/76.0eacd2d9.js"><link rel="prefetch" href="/assets/js/77.c3ba3709.js"><link rel="prefetch" href="/assets/js/78.843656e9.js"><link rel="prefetch" href="/assets/js/79.99bae0b9.js"><link rel="prefetch" href="/assets/js/8.8d4fcdde.js"><link rel="prefetch" href="/assets/js/80.4d3c67b0.js"><link rel="prefetch" href="/assets/js/81.85eaf0e7.js"><link rel="prefetch" href="/assets/js/82.27feb7aa.js"><link rel="prefetch" href="/assets/js/83.7686c618.js"><link rel="prefetch" href="/assets/js/84.941fa5d5.js"><link rel="prefetch" href="/assets/js/85.46a4182a.js"><link rel="prefetch" href="/assets/js/86.1d2fa06f.js"><link rel="prefetch" href="/assets/js/87.1fa71add.js"><link rel="prefetch" href="/assets/js/88.a9a069f0.js"><link rel="prefetch" href="/assets/js/89.93d73858.js"><link rel="prefetch" href="/assets/js/9.99351bd6.js"><link rel="prefetch" href="/assets/js/90.029a12be.js"><link rel="prefetch" href="/assets/js/91.669f4475.js"><link rel="prefetch" href="/assets/js/92.686c84ef.js"><link rel="prefetch" href="/assets/js/93.47bd8585.js"><link rel="prefetch" href="/assets/js/94.0b908759.js"><link rel="prefetch" href="/assets/js/95.f4d85cb9.js"><link rel="prefetch" href="/assets/js/96.e57f6246.js"><link rel="prefetch" href="/assets/js/97.b5660771.js"><link rel="prefetch" href="/assets/js/98.91198c9e.js"><link rel="prefetch" href="/assets/js/99.9a6c1efc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18cbf62c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">羊圈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">blog</a></div><div class="nav-item"><a href="https://qishaoxuan.github.io/animate_resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  about me
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">blog</a></div><div class="nav-item"><a href="https://qishaoxuan.github.io/animate_resume/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  about me
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/1.基础知识.html" class="sidebar-link">基础知识</a></li><li><a href="/js/2.数据类型.html" class="sidebar-link">数据类型</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="canvas">canvas</h1> <h2 id="什么是canvas">什么是Canvas</h2> <p>canvas 是 HTML5 提供的一个用于展示绘图效果的标签</p> <p>canvas 提供了一个空白的图形区域，可以使用特定的JavaScript API来绘画图形（canvas 2D或WebGL）</p> <p>首先由 Apple 引入的，用于 OS X 的仪表盘和 Safari 浏览器中的一些效果</p> <h3 id="关于canvas的一些说明">关于Canvas的一些说明</h3> <ul><li>canvas 是一个矩形区域的画布，可以用 JS 在上面绘画。</li> <li>canvas 标签使用 JS 在网页上绘制图像，本身不具备绘图功能。</li> <li>canvas 拥有多种绘制路径、矩形、圆形、文字以及添加图像的方法。</li> <li>canvas的标准：
<ul><li><a href="https://www.w3.org/TR/2dcontext/" target="_blank" rel="noopener noreferrer">标准<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>目前来说，标准还在完善中。</li></ul></li></ul> <h3 id="canvas主要应用的领域（了解）">canvas主要应用的领域（了解）</h3> <ul><li>1、游戏：canvas 在基于Web的图像显示方面比 Flash 更加立体、更加精巧，canvas游戏在流畅度和跨平台方面更牛。</li> <li>2、<strong>可视化数据</strong>（数据图表化），比如: <a href="http://echarts.baidu.com/" target="_blank" rel="noopener noreferrer">百度的ECharts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://d3js.org/" target="_blank" rel="noopener noreferrer">d3.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="http://threejs.org/" target="_blank" rel="noopener noreferrer">three.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="">highcharts</a></li> <li>3、<strong>banner广告</strong>：Flash曾经辉煌的时代，智能手机还未曾出现。现在以及未来的智能机时代，HTML5技术能够在banner广告上发挥巨大作用，用Canvas实现动态的广告效果再合适不过。</li> <li>4、未来
<ul><li>模拟器：无论从视觉效果还是核心功能方面来说，模拟器产品可以完全由JavaScript来实现。</li> <li>图形编辑器：Photoshop图形编辑器将能够100%基于Web实现。</li></ul></li></ul> <h2 id="canvas标签介绍">Canvas标签介绍</h2> <ul><li>作用：展示绘图的内容，但不能进行绘图</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="canvas的兼容性">canvas的兼容性</h3> <p>由于浏览器对HTML5标准支持不一致，所以，通常在<code>&lt;canvas&gt;</code>内部添加一些说明性HTML代码，如果浏览器支持Canvas，它将忽略<code>&lt;canvas</code>&gt;<code>内部的HTML，如果浏览器不支持Canvas，它将显示</code><canvas></canvas>`内部的HTML：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>600<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    IE9及其以上版本的浏览器，才支持canvas标签
    提示：您的浏览器不支持canvas，请升级浏览器
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在使用Canvas前，用canvas.getContext来测试浏览器是否支持Canvas：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- HTML代码 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test-canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">heigth</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>你的浏览器不支持Canvas<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test-canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>canvas<span class="token punctuation">.</span>getContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'你的浏览器支持Canvas!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'你的浏览器不支持Canvas!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>getContext('2d')</code>方法让我们拿到一个CanvasRenderingContext2D对象，所有的绘图操作都需要通过这个对象完成。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果需要绘制3D怎么办？HTML5还有一个WebGL规范，允许在Canvas中绘制3D图形：
<code>gl canvas.getContext(&quot;webgl&quot;);</code></p> <h3 id="设置宽高注意点">设置宽高注意点</h3> <ul><li>1 可以使用 html属性/DOM属性 <code>width</code> 和 <code>height</code>来设置</li> <li>2 <em>不要：使用CSS样式来设置宽高</em></li></ul> <p>使用 属性设置宽高，实际上相当于增加了 canvas画布的像素
默认宽高： 300*150，表示：水平方向有300个像素，垂直方向有150个像素
使用属性设置宽高，是增加或减少了canvas画布的像素；
而使用css样式，不会增加像素点，只是将每个像素点扩大了！</p> <h3 id="绘图">绘图</h3> <ul><li>使用JavaScript中提供的绘图API来绘制</li></ul> <h4 id="绘图的基本步骤">绘图的基本步骤</h4> <ul><li>1 拿到canvas画布</li> <li>2 通过canvas拿到绘图上下文（一系列的API集合）</li> <li>3 使用API绘制需要的图形</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1 找到canvas</span>
<span class="token keyword">var</span> cas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvasId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2 拿到canvas绘图上下文</span>
<span class="token keyword">var</span> ctx <span class="token operator">=</span> cas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3 使用上下文中的API绘制图形</span>
ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 将画笔移动到 100,100 的位置</span>
ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 从 100,100 到 200,100 画一条线段</span>
ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 描边</span>
</code></pre></div><ul><li>注意点：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>getContext(&quot;2d&quot;), 参数`2d`是指获取到绘制平面图形的上下文;
如果想绘制立体图形，需要传入参数：&quot;webgl&quot;

2d上下文类型：CanvasRenderingContext2D

获得 webgl 上下文：（了解, 部分浏览器默认不支持）
var cas = document.createElement(&quot;canvas&quot;);
console.log(cas.getContext(&quot;webgl&quot;));
</code></pre></div><h2 id="canvas的基本使用">canvas的基本使用</h2> <h3 id="canvas中的坐标系">canvas中的坐标系</h3> <ul><li>canvas坐标系，从最左上角0,0开始。x向右增大， y向下增大
<ul><li>联想：CSS中的盒模型</li></ul></li> <li><img src="imgs/canvas-x-y.png" alt="canvas坐标系"></li></ul> <h3 id="绘制直线的常用api">绘制直线的常用API</h3> <ul><li>步骤：先绘制路径再描边（在画布中展示）</li></ul> <h4 id="moveto-设置绘制起点">moveTo -设置绘制起点</h4> <ul><li>语法：ctx.moveTo(x, y);</li> <li>解释：设置上下文绘制路径的起点。相当于移动画笔到某个位置</li> <li>参数：x,y 都是相对于 canvas盒子的坐标。</li> <li>注意：<strong>绘制线段前必须先设置起点，不然绘制无效。</strong></li></ul> <h4 id="lineto-绘制直线">lineTo -绘制直线</h4> <ul><li>语法：ctx.lineTo(x, y);</li> <li>解释：从x,y的位置绘制一条直线到起点或者上一个线头点。</li> <li>参数：x,y 线头点坐标。</li></ul> <h4 id="stroke-描边">stroke -描边</h4> <ul><li>语法：ctx.stroke();</li> <li>解释：根据路径绘制线。路径只是草稿，真正绘制线必须执行stroke</li></ul> <h4 id="练习">练习</h4> <ul><li>绘制正方形、三角形和梯形</li> <li><img src="imgs/stroke-line-exc-1.png" width="600" height="400"></li></ul> <h3 id="fill-填充">fill -填充</h3> <ul><li><p>语法：ctx.fill();</p></li> <li><p>解释：填充，是将闭合的路径的内容填充具体的颜色, 默认黑色。</p></li> <li><p>如果所有的描点没有构成封闭结构，也会自动构成一个封闭图形</p></li> <li><p>练习：</p></li> <li><img src="imgs/no-zero-exc-1.png"></li></ul> <h3 id="线宽">线宽</h3> <ul><li>语法：ctx.lineWidth</li> <li>解释：设置或返回当前的线条宽度，沿着起始坐标往上下两边扩展</li></ul> <h3 id="描边和填充的样式说明">描边和填充的样式说明</h3> <ul><li>fillStyle  : 设置或返回用于填充绘画的颜色</li> <li>strokeStyle: 设置或返回用于描边的颜色</li></ul> <p>以上两个值都可以接受：颜色名、16进制数据、rgb值，甚至rgba.
一般先进行设置样式然后进行绘制。</p> <div class="language-js extra-class"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;#ccc&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;rgb(255,0,0)&quot;</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">&quot;rgba(255,0,0,6)&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="非零环绕原则">非零环绕原则</h4> <ul><li>注意：交叉路径的填充问题，“非零环绕原则”，顺逆时针穿插次数决定是否填充。</li> <li><img src="imgs/no-zero.png" alt="非零环绕"></li></ul> <div class="language- extra-class"><pre class="language-text"><code>以下是非0环绕原则的原理：（了解即可，非常少会用到复杂的路径）
“非零环绕规则”是这么来判断有自我交叉情况的路径的：对于路径中的任意给定区域，
从该区域内部画一条足够长的线段，使此线段的终点完全落在路径范围之外。

接下来，将计数器初始化为0，
然后，每当这条线段与路径上的直线或曲线相交时，
就改变计数器的值。如果是与路径的顺时针部分相交，则加1，
如果是与路径的逆时针部分相交，则减1。若计数器的最终值不是0，那么此区域就在路径里面，
在调用fill()方法时，浏览器就会对其进行填充。
如果最终值是0，那么此区域就不在路径内部，浏览器也就不会对其进行填充了
</code></pre></div><h3 id="路径开始和闭合">路径开始和闭合</h3> <ul><li>开始路径：ctx.beginPath();</li> <li>闭合路径：ctx.closePath();</li> <li>解释：如果复杂路径绘制，必须使用路径开始和结束。闭合路径会自动把最后的线头和开始的线头连在一起。</li> <li>beginPath: 核心的作用开启新路径
每次执行此方法，表示重新绘制一个路径, 后面的绘制跟beginPath之前的绘制的路径就无关了。</li></ul> <h4 id="beginpath注意点">beginPath注意点:</h4> <ul><li>canvas 是基于状态的绘图</li> <li>状态：包含当前与当前绘制相关的属性，如：颜色、线宽等</li> <li>新的状态会 “继承” 原先的状态, 虽然旧路径被清除了, 但是状态会保留下来, 线宽, 颜色等还是设置过的状态</li></ul> <h2 id="其他绘制状态（了解即可）">其他绘制状态（了解即可）</h2> <h3 id="绘制线的其他属性">绘制线的其他属性</h3> <ul><li>lineCap     设置线条端点(线头、线冒)样式
<ul><li>butt  ：  默认。向线条的每个末端添加平直的边缘。</li> <li>round ：  向线条的每个末端添加圆形线帽。</li> <li>square：  向线条的每个末端添加正方形线帽。</li> <li><img src="imgs/line-cap.png" height="303" width="480"></li></ul></li> <li>lineJoin    设置拐角类型
<ul><li>bevel:   创建斜角。</li> <li>round:   创建圆角。</li> <li>miter:   默认。创建尖角</li> <li><img src="imgs/line-join.png" height="387" width="453"></li></ul></li> <li>miterLimit  设置或返回最大斜接长度
<ul><li>斜接长度指的是在两条线交汇处内角和外角之间的距离。</li> <li>一般用默认值：10就可以了。除非需要特别长的尖角时，使用此属性。
<img src="imgs/line-miterlimit.png" height="410" width="840"></li></ul></li></ul> <h3 id="绘制虚线">绘制虚线</h3> <ul><li>设置： setLineDash(数组)</li> <li>读取： getLineDash()</li></ul> <h4 id="一些说明">一些说明</h4> <ul><li>getLineDash() 与 setLineDash() 方法使用数组描述实线与虚线的长度.</li></ul> <h2 id="绘制矩形">绘制矩形</h2> <h3 id="快速创建矩形rect-方法">快速创建矩形rect()方法</h3> <ul><li><p>语法：ctx.rect(x, y, width, height);</p></li> <li><p>解释：x, y是矩形左上角坐标， width和height都是以像素计</p></li> <li><p>rect方法只是规划了矩形的路径，并没有填充和描边, 所以最后还是要调用 fill 或者 stroke 方法绘制</p> <p>​</p></li></ul> <h3 id="快速创建描边矩形和填充矩形">快速创建描边矩形和填充矩形</h3> <ul><li><p>语法：ctx.strokeRect(x, y, width, height);</p> <ul><li>注意此方法直接进行stroke绘制, 不会产生路径</li></ul></li> <li><p>语法：ctx.fillRect(x, y, width, height);</p> <ul><li>此方法直接进行 fill 填充绘制, 不会产生路径</li></ul> <p>​</p></li></ul> <h3 id="清除矩形-clearrect">清除矩形(clearRect)</h3> <ul><li><p>语法：ctx.clearRect(x, y, width, hegiht);</p></li> <li><p>解释：清除某个矩形内的绘制的内容，相当于橡皮擦。</p> <p>​</p></li></ul> <h3 id="清除整个画布">清除整个画布</h3> <ul><li><p>1 ctx.clearRect(0, 0, cv.width, cv.height);</p></li> <li><p>2 cv.width = cv.width;</p></li></ul> <h2 id="绘制圆弧">绘制圆弧</h2> <h3 id="arc-方法">arc 方法</h3> <ul><li><p>概述：arc() 方法创建弧/曲线（用于创建圆或部分圆）。</p></li> <li><p>语法：ctx.arc(x, y, r, sAngle, eAngle, counterclockwise);</p></li> <li><p>解释：</p> <ul><li>x,y：圆心坐标。</li> <li>r：半径大小。</li> <li>sAngle:绘制开始的角度。</li> <li>eAngel:结束的角度，注意是弧度。π</li> <li>counterclockwise：是否是逆时针。true是逆时针，false：顺时针</li></ul></li> <li><img src="imgs/arc-angle&amp;radian.gif"></li></ul> <h3 id="弧度和角度">弧度和角度</h3> <ul><li><p>弧度和角度的转换公式： rad = deg /180 * Math.PI;</p></li> <li><p>在Math提供的方法中 <strong>Math.sin、Math.cos等都使用的单位也是弧度</strong></p> <p>​</p></li></ul> <h4 id="封装角度和弧度的转换函数">封装角度和弧度的转换函数</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">toRadian</span><span class="token punctuation">(</span><span class="token parameter">angle</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> angle <span class="token operator">/</span> <span class="token number">180</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">toAngle</span><span class="token punctuation">(</span><span class="token parameter">radian</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> radian <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">180</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="零度角">零度角</h4> <ul><li><p>圆心水平到最右边点是0度，顺时针方向弧度（角度为正）增大。</p></li> <li><p>练习： 绘制圆弧，圆心在画布中间，从-60度到120度</p> <p>​</p></li></ul> <h3 id="绘制圆弧和起始点的问题">绘制圆弧和起始点的问题</h3> <ul><li>问题说明：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>如果在绘制圆弧的时候 已经有位置了，那么，这个位置与绘制圆弧的起始点画一条连线！
</code></pre></div><ul><li>解决方式：
<ul><li><p>beginPath</p> <p>​</p></li></ul></li></ul> <h3 id="绘制扇形">绘制扇形</h3> <ul><li>步骤：先moveTo到圆心，再绘制圆弧，最后closePath</li> <li>如果是 fill 填充的扇形图，那么不需要 closePath 就会自动填充</li></ul> <h3 id="计算圆弧上点的坐标">计算圆弧上点的坐标</h3> <div class="language- extra-class"><pre class="language-text"><code>计算圆弧上点的坐标的公式:
x = x0 + r * Math.cos(a);
y = y0 + r * Math.sin(a);
</code></pre></div><ul><li>sin在 1 2象限是正 3 4象限是负
<ul><li>sin在角度为：0-180度之间为正，-90-0度和180-270度之间为负</li></ul></li> <li>cos在 1 4象限是正 2 3象限是负
<ul><li>cos在角度为：0-90度和-90-0度之间为正，90-270度之间为负</li></ul></li></ul> <h3 id="练习-2">练习</h3> <ul><li>练习：动画绘制整个圆</li> <li>练习：绘制饼型图（三等分）</li> <li>练习：绘制普通的饼型图</li></ul> <h2 id="绘制文字">绘制文字</h2> <p>Canvas除了能绘制基本的形状和文本，还可以实现动画、缩放、各种滤镜和像素转换等高级操作。如果要实现非常复杂的操作，考虑以下优化方案：
通过创建一个不可见的Canvas来绘图，然后将最终绘制结果复制到页面的可见Canvas中；
尽量使用整数坐标而不是浮点数；
可以创建多个重叠的Canvas绘制不同的层，而不是在一个Canvas中绘制非常复杂的图；
背景图片如果不变可以直接用&lt;img&gt;标签并放到最底层。</p> <h3 id="常用绘制文字方法">常用绘制文字方法</h3> <ul><li><p>ctx.fillText()      在画布上绘制“被填充的”文本</p> <ul><li>参数：文字, x坐标, y坐标</li></ul></li> <li><p>ctx.strokeText()    在画布上绘制文本（无填充）</p> <p>​</p></li></ul> <h3 id="常用绘制文字属性-了解">常用绘制文字属性(了解)</h3> <ul><li>font 设置或返回文本内容的当前字体属性（与 CSS font 属性相同）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'18px &quot;微软雅黑&quot;'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>textAlign       设置或返回文本内容的当前对齐方式</li> <li>记忆: left right center
<ul><li>start :    默认。文本在指定的位置开始。</li> <li>end   :    文本在指定的位置结束。</li> <li>center:    文本的中心被放置在指定的位置。</li> <li>left  :    文本左对齐。</li> <li>right :    文本右对齐。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="imgs/textAlign-demo.png" alt="对齐图片"></p> <ul><li>textBaseline      设置或返回在绘制文本时使用的当前文本基线</li> <li>记忆: top  middle  bottom     默认: alphabetic (基线对齐)
<ul><li>alphabetic ：   默认。文本基线是普通的字母基线。</li> <li>top        ：   文本基线是 em 方框的顶端。</li> <li>hanging    ：   文本基线是悬挂基线。</li> <li>middle     ：   文本基线是 em 方框的正中。</li> <li>ideographic：   文本基线是em基线。</li> <li>bottom     ：   文本基线是 em 方框的底端。</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>例如： ctx.textBaseline = 'top';
</code></pre></div><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textBaseline" target="_blank" rel="noopener noreferrer">textBaseline的介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p><img src="imgs/textBaseline-demo.png" alt="设置文字为主"> <img src="imgs/textBaseline.gif" height="268" width="300" alt=""></p> <h3 id="练习-3">练习</h3> <ul><li><p>练习：绘制带有文字的饼型图</p> <p>​</p></li></ul> <h2 id="绘制图片（drawimage）（重点）">绘制图片（drawImage）（重点）</h2> <h3 id="绘制图片用法1-基本使用">绘制图片用法1 -基本使用</h3> <ul><li>context.drawImage(img, x, y);</li> <li>参数：
<ul><li><p>img : 图片dom对象</p></li> <li><p>x,y 绘制图片到画布中坐标</p> <p>​</p></li></ul></li></ul> <h3 id="绘制图片用法2-设置高度和宽度">绘制图片用法2 -设置高度和宽度</h3> <ul><li>context.drawImage(img, x, y, width, height);</li> <li>width：绘制到canvas中展示的宽度</li></ul> <div class="language- extra-class"><pre class="language-text"><code>如果指定宽高，最好成比例，不然图片会被拉伸
等比公式：  height = imgHeight / imgWidth * width;
           设置高 = 原高度 / 原宽度 * 设置宽;
</code></pre></div><h3 id="绘制图片用法3-图片裁剪">绘制图片用法3 -图片裁剪</h3> <ul><li>context.drawImage(img, imgX, imgY, sWidth, sHeight, x, y, width, height);</li> <li>参数：
<ul><li><p>imgX, imgY：被剪裁图片的起始位置, 图片中的x,y坐标</p></li> <li><p>sWidth：裁剪宽度  sHeight: 裁剪高度</p></li> <li><p>x, y  : 要绘制到画布上的位置</p></li> <li><p>width ：要绘制到画布上的宽度</p></li> <li><p>height：要绘制到画布上的高度</p> <p>​</p></li></ul></li></ul> <h3 id="用javascript创建img对象">用JavaScript创建img对象</h3> <ul><li><p>第一种方式：</p> <ul><li>var img = document.createElement(&quot;img&quot;);</li></ul></li> <li><p>第二种方式：</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这个就是 img标签的dom对象</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;imgs/arc.gif&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>alt <span class="token operator">=</span> <span class="token string">&quot;文本信息&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//图片加载完成后，执行此方法</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="绘制图片的步骤">绘制图片的步骤</h3> <ul><li>1 创建图片对象</li> <li>2 等待图片加载完成</li> <li>3 开始绘制图片</li></ul> <h4 id="加载图片的问题">加载图片的问题</h4> <ul><li><p>需要使用 onload事件 等待图片加载完成之后，再绘制！</p> <p>​</p></li></ul> <h3 id="练习-4">练习</h3> <ul><li><p>练习1: 绘制整个图片</p></li> <li><p>练习2: 绘制图片的一部分</p></li> <li><p>练习3: 绘制序列帧动画</p> <p>​</p></li></ul> <h2 id="变换-（重点）">变换 （重点）</h2> <h3 id="平移">平移</h3> <ul><li><p>ctx.translate(x,y)</p></li> <li><p>参数说明：</p> <ul><li>x：   整个坐标轴位移到 原来水平坐标（x）上的值</li> <li>y：   整个坐标轴位移到 原来垂直坐标（y）上的值</li></ul></li> <li><p>发生位移后，相当于把画布的0,0坐标 更换到新的x,y的位置，所有绘制的新元素都被影响。</p></li> <li><p>位移画布一般配合缩放和旋转等。</p> <p>​</p></li></ul> <h3 id="缩放">缩放</h3> <ul><li><p>scale() 方法缩放当前绘图，更大或更小</p></li> <li><p>语法：context.scale(scalewidth,scaleheight)</p> <ul><li>scalewidth  :  缩放当前绘图的宽度 (1=100%, 0.5=50%, 2=200%)</li> <li>scaleheight :  缩放当前绘图的高度 (1=100%, 0.5=50%, 2=200%)</li></ul></li> <li><p>注意：缩放的是整个画布，缩放后，继续绘制的图形会被放大或缩小。</p> <p>​</p></li></ul> <h3 id="旋转">旋转</h3> <ul><li><p>context.rotate(radian); 旋转当前的坐标轴</p></li> <li><p>注意参数是弧度（PI）</p> <p>​</p></li></ul> <h3 id="练习-5">练习</h3> <ul><li><p>在画布左右两侧分别绘制两个圆</p></li> <li><p>绘制两个正方形（宽度：100 和 50）</p></li> <li><p>绘制旋转的矩形</p> <p>​</p></li></ul> <h2 id="环境">环境</h2> <p>前面提到 Canvas 是含有状态的, 也就是说需要修改颜色, 直线样式等, 这些状态都会保留下来</p> <p>但是有时候, 如果需要回到默认状态中绘制另外的形状, 那么只有再将修改过的样式再更改回来.</p> <p>如果在该状态中修改的属性较多, 那么每次在回到之前状态时, 就有很多的代码, 就很麻烦</p> <div class="language- extra-class"><pre class="language-text"><code>Canvas 中引入了状态的保持机制. 
使用 CanvasRenderingContext2D.save() 方法可以保存当前状态. 
如果需要恢复到已经保存的状态, 只需要调用 CanvasRenderingContext2D.restore() 方法即可.

状态保持的机制是基于状态栈实现的. 也就是说 save 一次就存储一个状态. 
restore 一次就将刚刚存入的恢复. 如果 save 两次, 就需要 restore 两次, 才可以恢复到最先的状态.

一般在封装绘图的时候都会采用开始绘制之前, save 一次, 然后 开启一个新路径 beginPath, 
然后绘制结束后 restore, 这样保持当前状态不会对其他绘图代码构成影响.
</code></pre></div><h3 id="绘制环境保存和还原">绘制环境保存和还原</h3> <ul><li><p>ctx.save()        保存当前环境的状态</p></li> <li><p>ctx.restore()     返回之前保存过的路径状态和属性</p></li></ul> <h3 id="画布保存base64编码内容-了解">画布保存base64编码内容(了解)</h3> <ul><li>把 canvas绘制的内容 输出成base64内容。</li> <li>语法：canvas.toDataURL(type, encoderOptions);</li> <li>例如：canvas.toDataURL(&quot;image/png&quot;,1);</li> <li>参数：
<ul><li>type，设置输出的类型，比如 image/png   image/jpeg等</li> <li>encoderOptions： 0-1之间的数字，用于标识输出图片的质量，1表示无损压缩(可选)</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> dataURL <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dataURL<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNby</span>
<span class="token comment">// blAAAADElEQVQImWNgoBMAAABpAAFEI8ARAAAAAElFTkSuQmCC&quot;</span>

<span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#img-demo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//拿到图片的dom对象</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&quot;image/png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//将画布的内容给图片标签显示</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><div class="cat-container" data-v-a13867c0><canvas id="vuepress-cat" width="280" height="250" class="live2d" data-v-a13867c0></canvas></div></div></div>
    <script src="/assets/js/app.c1618cf4.js" defer></script><script src="/assets/js/3.ed1bf183.js" defer></script><script src="/assets/js/67.47eb30d1.js" defer></script>
  </body>
</html>
